if(void 0===sswAppJS){var checkUser=function(s){if("undefined"!=typeof sswApp["default"]&&0==sswApp["default"]){var e={_sid:sswCookie("hesid"),hash_key:sswCookie("hash_key")},t=!1;"undefined"!=typeof localStorage&&(s.cookie("cart")&&localStorage.getItem("ssw_cart")!=s.cookie("cart")&&(t=!0,e.cart_token=s.cookie("cart")),localStorage.getItem("ssw_our_revenue")&&(t=!0,e.revenue=JSON.parse(localStorage.getItem("ssw_our_revenue")))),e.hash_key||(t=!0),"undefined"!=typeof sswApp.cart_item_count&&(e.cart_item_count=sswApp.cart_item_count),t&&s.post(sswProxyUrl+"/lite2/user/check",e,function(s){"undefined"!=typeof s.hash_key&&s.hash_key&&ssw.cookie("hash_key",s.hash_key,{expires:30,path:"/"}),"undefined"!=typeof e.cart_token&&localStorage.setItem("ssw_cart",e.cart_token),"undefined"!=typeof e.revenue&&localStorage.removeItem("ssw_our_revenue")},"json")}else{if(t={_sid:sswCookie("hesid"),hash_key:sswCookie("hash_key"),from_mail_id:sswGetParameterByName("mail_id"),from_hash_key:sswGetParameterByName("from_hash_key"),from_email:sswGetParameterByName("email"),is_auth_redirect:sswIsOauthRedirectFrom()},"undefined"!=typeof sswApp.customer&&(t.customer_id=sswApp.customer.id,"undefined"!=typeof localStorage)){var o=localStorage.getItem("ssw-wishlist");o&&(t.wishlist=JSON.parse(o),localStorage.removeItem("ssw-wishlist")),(o=localStorage.getItem("challenge_password"))&&(t.challenge_password=o,localStorage.removeItem("challenge_password"))}void 0!==sswCookie("cart")&&(t.cart_token=sswCookie("cart")),void 0!==sswCookie("ssw_our_session")&&(t.ssw_our_session=sswCookie("ssw_our_session")),void 0!==sswCookie("ssw_referrer")&&(t.ssw_referrer=sswCookie("ssw_referrer")),"undefined"!=typeof localStorage&&(o=localStorage.getItem("ssw_our_revenue"))&&(t.revenue=JSON.parse(o)),"undefined"!=typeof sswApp.cart_item_count&&(t.cart_item_count=sswApp.cart_item_count),s.ajax({type:"post",url:sswProxyUrl+"/lite2/user/check",data:t,success:function(e){if(window.ssw_enable_quickview=e.enable_quickview,"undefined"!=typeof e.discount&&e.discount){s("#ssw-discount-code").html(e.discount.code),s("#discount-date").html(sswLangs.t("valid_until_coupon",[e.discount.date]));var t=s("#discount-instructions");t.html(e.discount.instructions+t.html()),sswLibraryLoaded(function(){s("#ssw-discount-modal").sswModal()})}1==e.show_follow&&"undefined"!=typeof showFollowPopup&&setTimeout(function(){showFollowPopup()},5e3),"logout"!=e.result&&"User not found"!=e.result||sswCookie("hesid",null),e.hash_key&&ssw.cookie("hash_key",e.hash_key,{expires:30,path:"/"}),!e.cart||void 0!==ssw.cookie("cart")&&ssw.cookie("cart")==e.cart||(t=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),ssw.getJSON("/cart.json?v="+t,function(s){s.item_count||ssw.cookie("cart",e.cart,{expires:14,path:"/"})})),userChecked=!0,window.ssw.usercheckResponse=e,window.ssw.isFree=e.isFree,window.ssw.isLite=e.isLite,window.ssw.apps=e.apps,window.ssw.suggest_login=e.suggest_login,window.ssw.suggest_login_period=e.suggest_login_period,window.ssw.login_redirect_url=e.login_redirect_url,e.modules&&(window.ssw.modules=e.modules),window.sswHelperLoaded?sswCheckBranding():window.addEventListener("sswhelperload",sswCheckBranding),"undefined"!=typeof sswApp.customer&&localStorage.getItem("ssw-wishlist")&&localStorage.removeItem("ssw-wishlist"),localStorage.removeItem("ssw_our_revenue"),sswDispatchEvent("sswusercheck",{detail:{ajaxResponse:e},bubbles:!0,cancelable:!1})},dataType:"json",async:!0})}},sswIsOauthRedirectFrom=function(){var s=0;return 30<location.hash.length&&(s=(s=JSON.parse(location.hash.substr(1,location.hash.length-1)))&&s.oauth_redirect&&s.service),s},sswCheckBranding=function(){if(window.ssw.usercheckResponse.isFree||window.ssw.usercheckResponse.isLite){var s,e={"#login_modal .ssw-modal-footer":{name:"login_modal",css:{"margin-top":"5px"}},"#signup_modal .ssw-modal-footer":{name:"signup_modal",css:{"margin-top":"5px"}},"#notifyModal .ssw-modal-footer":{name:"notify_modal",css:{"margin-top":"10px"}},".ssw-social-login-widget":{name:"login_page",css:{"font-size":"12px","margin-top":"10px","float":"none"}},"#ssw-product-modal .ssw-modal-footer":{name:"product_modal",css:{"margin-top":"10px"}},"#ssw-action-modal .ssw-modal-footer":{name:"action_modal",css:{"margin-top":"10px"}}},t=ssw(window.ssw.usercheckResponse.watermark);for(s in e)if(e.hasOwnProperty(s)){var o=t.clone();o.attr("href",o.attr("href")+e[s].name).css(e[s].css),ssw(s).append(o)}}else ssw("#ssw-product-modal .ssw-modal-footer").css("display","none")},sswCookie=function(s,e,t){if(t=t||168,e&&t){var o=new Date;return o.setHours(o.getHours()+t),e=escape(e)+(null==t?"":"; expires="+o.toUTCString()),document.cookie=s+"="+e,this}return(s=document.cookie.match(new RegExp("(?:^|; )"+s.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(s[1]):void 0},sswCookieLoad=function(s){s.cookie=function(e,t,o){if(1<arguments.length&&(null===t||"object"!=typeof t)){if(o=s.extend({},o),null===t&&(o.expires=-1),"number"==typeof o.expires){var a=o.expires,i=o.expires=new Date;i.setDate(i.getDate()+a)}else"string"==typeof o.expires&&(a=parseInt(o.expires),i=o.expires=new Date,i.setHours(i.getHours()+a));return document.cookie=[encodeURIComponent(e),"=",o.raw?String(t):encodeURIComponent(String(t)),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}return o=t||{},a=o.raw?function(s){return s}:decodeURIComponent,(i=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?a(i[1]):null},null==s.cookie("hesid")&&s.cookie("hesid",function(){var s=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return s()+s()+"-"+s()+"-"+s()+"-"+s()+"-"+s()+s()+s()}(),{path:"/"})},sswLoadScript=function(s,e,t){var o=document.createElement("script");if(o.type="text/javascript",void 0!==t&&t&&(o.async=!0),0<=s.indexOf("ssw-lib")){t=document.getElementsByTagName("script");for(var a in t){var i=t[a];if("undefined"!=typeof i.src&&0<=i.src.indexOf("ssw-lib"))return}o.setAttribute("data-no-instant",!0)}o.readyState?o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(o.onreadystatechange=null,"function"==typeof e&&e())}:o.onload=function(){"function"==typeof e&&e()},o.src=s,document.getElementsByTagName("head")[0].appendChild(o)},sswUserChecked=function(s){if(void 0!==userChecked&&userChecked)s(ssw);else var e=setInterval(function(){void 0!==userChecked&&userChecked&&(clearInterval(e),s(ssw))},10)},sswLibraryLoaded=function(s){if("undefined"==typeof sswLibraryJsLoaded)var e=setInterval(function(){"undefined"!=typeof sswLibraryJsLoaded&&sswLibraryJsLoaded&&(clearInterval(e),s(ssw))},10);else s(ssw)},sswCoreLoaded=function(s){if("undefined"==typeof sswCoreJsLoaded)var e=setInterval(function(){"undefined"!=typeof sswCoreJsLoaded&&sswCoreJsLoaded&&(clearInterval(e),s(ssw))},10);else s(ssw)},sswDispatchEvent=function(s,e){_sswNewDispatchEvent(s,e);try{var t=new CustomEvent(s,e)}catch(o){t=document.createEvent("Event"),t.initEvent(s,!e.bubbles||e.bubbles,!!e.cancellable&&e.cancellable),e.detail&&(t.detail=e.detail)}document.dispatchEvent(t)},sswGetBiggestPhoto=function(s,e){var t=0,o=s[t],a=document.createElement("img");a.src=s[t].src,a.onload=function(){o.width*o.height<a.width*a.height&&(o=s[t]),s[t+1]?(t++,a.src=s[t].src):e(o)}},sswGetPopupBounds=function(s,e){return"width="+s+", height="+e+", top="+(screen.height/2-e/2-60)+", left="+(screen.width/2-s/2-8)},sswGetParameterByName=function(s){return s=s.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),s=new RegExp("[\\?&]"+s+"=([^&#]*)").exec(location.search),null==s?"":decodeURIComponent(s[1].replace(/\+/g," "))},sswIsiOSWebView=function(){var s=window.navigator.userAgent.toLowerCase();return!(!localStorage.login_test&&(!/iphone|ipod|ipad/.test(s)||/safari/.test(s)&&!/gsa/.test(s)))||""},sswAppJS=!0;!function(s,e,t){try{if(function(s){for(var e=document.cookie.split(";"),t=0;t<e.length;++t){var o=e[t].trim().split("=");if(o[0]==s)return o[1]}return null}("hash_key"))if(sswApp.customer)sswRun(function(s){s(t).on("click",'a[href$="/account/logout"]',function(){e.removeItem("ssw_user_session_token")})}),sswUserChecked(function(s){s.usercheckResponse.user_session_token&&e.setItem("ssw_user_session_token",JSON.stringify({token:s.usercheckResponse.user_session_token,time:(new Date).getTime()}))});else{var o=e.getItem("ssw_user_session_token")&&JSON.parse(e.getItem("ssw_user_session_token"));if(o)if(o.time<(new Date).getTime()-144e5){var a=new XMLHttpRequest;a.open("POST",sswProxyUrl+"/lite2/user/prolongsession");var i=new FormData;i.append("token",o.token),a.send(i),a.onreadystatechange=function(){if(e.removeItem("ssw_user_session_token"),4==a.readyState){var s=JSON.parse(a.responseText);if(s.success){var t=new XMLHttpRequest;t.open("POST","/account/login");var o=t.setRequestHeader;t.setRequestHeader=function(s,e){"X-Requested-With"!=s&&o.call(this,s,e)};var i=new FormData;i.append("form_type","customer_login"),i.append("utf8","?"),i.append("customer[email]",s.email),i.append("customer[password]",s.password),t.send(i),t.onreadystatechange=function(){4==t.readyState&&location.reload()}}}}}else e.removeItem("ssw_user_session_token")}else e.removeItem("ssw_user_session_token"),e.setItem("debug_login","no hash_key")}catch(s){}}(window,localStorage,document);var sswCssId="socialshopwave",sswCssLoaded=!1,sswLink,sswHead,sswImg;document.getElementById(sswCssId)||(sswHead=document.getElementsByTagName("head")[0],sswLink=document.createElement("link"),sswLink.id=sswCssId,sswLink.rel="stylesheet",sswLink.type="text/css",sswLink.href="//cdn.shopify.com/s/files/1/0023/2823/1999/t/3/assets/socialshopwave.css?6747942842817081384",sswLink.media="all",sswHead.appendChild(sswLink),sswImg=document.createElement("img"),sswImg.style.opacity=0,sswImg.style.position="absolute",sswImg.onerror=function(){if(sswImg.parentElement){sswImg.parentElement.removeChild(sswImg);var s=document.getElementById("ssw-temp-styles");s.parentNode.removeChild(s)}sswCssLoaded=!0,sswDispatchEvent("sswcssload",{detail:{},bubbles:!0,cancelable:!1})},document.body.appendChild(sswImg),sswImg.src=sswLink.href);var sswCustomCssId="socialshopwave-custom";if(document.getElementById(sswCustomCssId)||(sswHead=document.getElementsByTagName("head")[0],sswLink=document.createElement("link"),sswLink.id=sswCustomCssId,sswLink.rel="stylesheet",sswLink.type="text/css",sswLink.href="//cdn.shopify.com/s/files/1/0023/2823/1999/t/3/assets/socialshopwave-custom.css?6747942842817081384",sswLink.media="all",sswHead.appendChild(sswLink)),function(s){var e={},t={};s.sswAddEventListener=function(s,o){s&&s in t&&!0===t[s]?o():(e[s]||(e[s]=[]),e[s].push(o))},s._sswNewDispatchEvent=function(s){s&&(t[s]=!0),Array.isArray(e[s])&&e[s].map(function(s){s()})}}(window),!("placeholder"in document.createElement("input"))){sswHead=document.getElementsByTagName("head")[0];var script=document.createElement("script");script.type="text/javascript",script.src=sswProxyUrl+"/public/js/core/placeholders.js",sswHead.appendChild(script)}var shop_url="http://"+Shopify.shop,sswJqLoaded=!1,ssw=!1,userChecked=!1,loadSswWidgetListingInterval=[],sswProductPins=[],sswLoadJg=!0;if("undefined"!=typeof jQuery&&-1==jQuery.fn.jquery.indexOf("1.8")){var sswClientJqVernums=jQuery.fn.jquery.split(".");(1<parseInt(sswClientJqVernums[0])||7<parseInt(sswClientJqVernums[1]))&&(sswLoadJg=!1)}if(sswLoadJg?sswLoadScript("//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js",function(){ssw=jQuery.noConflict(!0),sswJqLoaded=!0,sswDispatchEvent("sswjqueryload",{detail:{ssw:ssw},bubbles:!0,cancelable:!1}),sswCookieLoad(ssw),checkUser(ssw)}):(ssw=jQuery,sswJqLoaded=!0,sswDispatchEvent("sswjqueryload",{detail:{ssw:ssw},bubbles:!0,cancelable:!1}),sswCookieLoad(ssw),checkUser(ssw)),"undefined"!=typeof sswApp.customer){var ssw_checkout_url=sswGetParameterByName("checkout_url");ssw_checkout_url&&(location.href=ssw_checkout_url)}sswHelperLoaded=!1;var sswXhr=new XMLHttpRequest;if(sswXhr.open("GET","/?view=ssw-async"),sswXhr.send(),sswXhr.onreadystatechange=function(){if(4==sswXhr.readyState){var b=document.createElement("div");b.innerHTML=sswXhr.responseText,document.body.appendChild(b);for(var a=b.getElementsByTagName("script"),c=0;c<a.length;c++)eval(a[c].text);sswDispatchEvent("sswhelperload",{detail:{ajaxResponse:sswXhr.responseText,helperContainer:b},bubbles:!0,cancelable:!1}),sswHelperLoaded=!0}},sswLoadScript("//cdn.shopify.com/s/files/1/0023/2823/1999/t/3/assets/ssw-libraries.js?6747942842817081384",!1,!0),"object"==typeof ssw_scripts&&ssw_scripts.length)for(var i in ssw_scripts)if(ssw_scripts.hasOwnProperty(i)){var script_source=ssw_scripts[i];-1==script_source.indexOf(Shopify.shop)&&(script_source+="?shop="+Shopify.shop),document.querySelector('script[src="'+script_source+'"]')||sswLoadScript(script_source,!1,!0)}if("undefined"==typeof sswApp.customer){var serviceUserChecker=function(s,e){FB.api("/me",{fields:"id,email"},function(t){ssw.ajax({type:"POST",url:sswProxyUrl+"/lite2/auth/service",data:{_sid:ssw.cookie("hesid"),user_id:s.authResponse.userID,email:t.email,service:e,access_token:s.authResponse.accessToken,hash_key:ssw.cookie("hash_key")},success:function(e){var t=new ShopifyLogin;"undefined"!=typeof e.service_id&&(service_id=e.service_id),e.status?e.password&&e.email?(sl=sswSocialLogin=1,t.preLogin(e.email,e.password),e.account_activation_token?t.login({customer_id:e.customer_id,token:e.account_activation_token,customer:{password:e.password,password_confirmation:e.password}}):t.login()):targetSEMModal(e,"facebook"):e.termsSignup||e.acceptMarketing?showAcceptTermsForm(e,"facebook",s):e.isOldCustomer?targetSEMModal(e,"facebook"):t.setServiceUser(s,"facebook")},dataType:"json"})})},validateLogin=function(){var s=ssw("#sem_modal_form");s.validate({rules:{password:{required:!0}},highlight:function(s){ssw(s).closest(".ssw-control-group").addClass("ssw-error")},success:function(s){ssw(s).closest(".ssw-control-group").removeClass("ssw-error")},submitHandler:function(){var e=new ShopifyLogin,t=ssw("#sem_password").val();e.preLogin(ssw("#sem_email").val(),t);var o=s.data("account-activation");"object"==typeof o?(o.customer={password:t,password_confirmation:t},e.login(o),s.data("account-activation",!1)):e.login()}}),ssw("#set-email-form").validate({rules:{email:{required:!0,email:!0}},highlight:function(s){ssw(s).closest(".ssw-control-group").addClass("ssw-error")},success:function(s){ssw(s).closest(".ssw-control-group").removeClass("ssw-error")},submitHandler:function(){ssw.ajax({type:"POST",url:sswProxyUrl+"/lite2/auth/setEmail",data:{_sid:ssw.cookie("hesid"),service_id:ssw("#service_id").val(),email:ssw("#set-email-input").val()},success:function(s){switch(s.error){case 0:var e=new ShopifyLogin;e.preLogin(s.email,s.password),e.login();break;case 1:s.user&&(e=[],s.user.twitter||e.push(".ssw-twconnect"),s.user.tumblr||e.push(".ssw-tmconnect"),s.user.instagram||e.push(".ssw-inconnect"),s=ssw("#login_modal"),s.find(e.join()).hide(),s.sswModal("show"),addMessage("#login_modal .login-failed",sswLangs.t("this_email_is_already_used"),"info"));break;case 2:addMessage2SetMailForm(sswLangs.t("incorrect_data"));break;case 3:addMessage2SetMailForm(sswLangs.t("tumblr_user_not_found"));break;case 4:addMessage2SetMailForm(sswLangs.t("not_created_customer_on_shopify"));break;case 5:addMessage2SetMailForm(sswLangs.t("problem_on_create_user"))}},dataType:"json"})}}),ssw("#he_create_customer").validate({rules:{email:{required:!0,email:!0}},highlight:function(s){ssw(s).closest(".ssw-control-group").addClass("ssw-error")},success:function(s){ssw(s).closest(".ssw-control-group").removeClass("ssw-error")},submitHandler:function(){(new ShopifyLogin).signUp()}}),ssw("#he_customer_login").validate({rules:{"customer[email]":{required:!0,email:!0},"customer[password]":{required:!0,minlength:6}},highlight:function(s){ssw(s).closest(".ssw-control-group").addClass("ssw-error")},success:function(s){ssw(s).closest(".ssw-control-group").removeClass("ssw-error")},submitHandler:function(){(new ShopifyLogin).login()}})},onOpenForm=function(){ssw(".ssw-login form").css("opacity","1"),ssw(".ssw-login form input").removeAttr("disabled").attr("enabled","enabled"),ssw(".ssw-signup-loading").hide(),ssw(".he-login").css("opacity","1"),ssw(".he-login input").removeAttr("disabled").attr("enabled","enabled"),ssw(".ssw-login-loading").hide()},onSubmitForm=function(){ssw(".ssw-login form").css("opacity","0.3"),ssw(".ssw-login form input").removeAttr("enabled").attr("disabled","disabled"),ssw(".ssw-signup-loading").show(),ssw(".he-login").css("opacity","0.3"),ssw(".he-login input").removeAttr("enabled").attr("disabled","disabled"),ssw(".ssw-login-loading").show()},addMessage2SetMailForm=function(s){var e=ssw("#set-email-error");e.html(s),e.show()},loginLoaderCancel=function(){ssw("#ssw-login-loader").parent().remove()},loginLoader=function(){ssw(".ssw-modal").sswModal("hide"),ssw("body").prepend('<div style="background: none repeat scroll 0 0 rgba(255, 255, 255, 0.77);height: 100%;position: fixed;width: 100%;z-index: 999;"><div class="ssw-login-loading" id="ssw-login-loader"> <span class="ssw-spin ssw-loader"></span> </div> </div>'),ssw("#ssw-login-loader").css("opacity",1),ssw("#ssw-login-loader").css({position:"fixed",top:"50%",left:"50%"})},shopCallback4TTI=function(s,e){onSubmitForm();var t=sswProxyUrl+"/lite2/auth/"+s+"?_sid="+ssw.cookie("hesid")+"&shop="+encodeURIComponent(Shopify.shop);t+=sswIsiOSWebView()&&"&oauth_redirect_uri="+encodeURIComponent(location.href),sswIsiOSWebView()?location.href=t:ssw.oauthpopup({path:t,callback:function(){sswDispatchEvent("sswoauthcallback",{detail:{service:e},bubbles:!0,cancellable:!1})}})},targetSEMModal=function(s,e){var t="";if(s.first_name&&(t+=s.first_name+" "),s.last_name&&(t+=s.last_name),"invited"==s.state){ssw("#sem_btn").hide(),ssw("#sem_forgot").hide(),ssw("#sem_password").hide();var o=sswLangs.t("already_registered_and_sent_invite_message",[s.email,e])}else if("enabled"!=s.state)ssw("#sem_btn").hide(),ssw("#sem_forgot").hide(),s.account_activation_token&&s.email?(o=sswLangs.t("already_registered_to_social_service",[s.email,e]),ssw("#sem_modal_form").data("account-activation",{customer_id:s.customer_id,token:s.account_activation_token})):(ssw("#sem_password").hide(),o=sswLangs.t("already_registered_and_disabled_account",[s.email,e]));else{if(window.ssw.usercheckResponse.multipass_enabled,window.ssw.usercheckResponse.multipass_enabled)return void(new ShopifyLogin).multiPassLogin();o=sswLangs.t("already_registered_to_social_service",[s.email,e])}if(onOpenForm(),ssw("#social_exist_modal .ssw-img-circle").hasClass("ssw-hide")||ssw("#social_exist_modal .ssw-img-circle").addClass("ssw-hide"),s.photo_url){var a=new Image;a.onload=function(){ssw("#social_exist_modal .ssw-img-circle").removeClass("ssw-hide"),ssw("#social_exist_modal .ssw-img-circle").attr("src",s.photo_url)},a.src=s.photo_url}ssw("#sem_name").html(t),ssw("#sem_email").val(s.email),ssw("#sem_text").html(o),ssw("#login_modal").sswModal("hide"),ssw("#social_exist_modal").sswModal()},showAcceptTermsForm=function(s,e,t){e?(ssw("#accept-terms-modal").data("own-app",{user:t,service:e}),ssw(".terms-email-group").hide()):ssw("#accept-terms-modal").removeData("own-app"),ssw("#signup_modal").sswModal("hide"),ssw("#login_modal").sswModal("hide"),s.service_id&&ssw("#ssw-accept-terms-service_id").val(s.service_id),s.email&&(ssw("#terms-email-input").val(s.email),ssw(".terms-email-group").hide()),s.termsLink&&(ssw("#accept-terms-modal .terms-link").attr("href",s.termsLink).show(),ssw("#accept-terms-modal .terms-span").hide()),s.termsSignup||ssw(".accept_terms-group").hide(),s.acceptMarketing||ssw(".accepts_marketing-group").hide(),onOpenForm(),ssw("#accept-terms-modal").sswModal()},sswOnAcceptMarketing=function(s){"accepts_marketing"==s.name&&(s.checked?ssw("#ssw-customer-accepts_marketing").val(!0):ssw("#ssw-customer-accepts_marketing").val(!1))},sswOnAcceptTerms=function(s){"accept_terms"==s.name?s.checked?(ssw("#ssw-cancel-account-button").hide(),ssw("#ssw-create-account-button").show()):(ssw("#ssw-cancel-account-button").show(),ssw("#ssw-create-account-button").hide()):"terms"==s.name&&(s.checked?(ssw("#hesy-sign-up-cancel").hide(),ssw("#hesy-sign-up-submit").show()):(ssw("#hesy-sign-up-cancel").show(),ssw("#hesy-sign-up-submit").hide()))},sswCancelAccount=function(){ssw("#accept-terms-modal").sswModal("hide"),onOpenForm()},sswCreateAccount=function(){var s=ssw("#accept-terms-modal").data("own-app");if(ssw("#ssw-create-account-button").attr("disabled","disabled"),!s)return ssw.ajax({type:"POST",url:sswProxyUrl+"/lite2/auth/acceptTerms",data:{_sid:ssw.cookie("hesid"),service_id:ssw("#ssw-accept-terms-service_id").val(),accepts_marketing:ssw("#ssw-accept-marketing-checkbox")[0].checked,accept_terms:ssw("#ssw-accept-terms-checkbox")[0].checked,email:ssw("#terms-email-input").val()},success:function(s){switch(s.error){case 0:var e=new ShopifyLogin;e.preLogin(s.email,s.password),e.login();break;case 1:s.user&&(e=[],s.user.twitter||e.push(".ssw-twconnect"),s.user.tumblr||e.push(".ssw-tmconnect"),s.user.instagram||e.push(".ssw-inconnect"),s=ssw("#login_modal"),s.find(e.join()).hide(),s.sswModal("show"),addMessage("#login_modal .login-failed",sswLangs.t("this_email_is_already_used"),"info"))}},dataType:"json"}),!1;(new ShopifyLogin).setServiceUser(s.user,s.service)},service_id=0,sl=0,sswSocialLogin=0;window.addEventListener("sswoauthcallback",function(s){if(s.detail&&-1!==["twitter","tumblr","instagram"].indexOf(s.detail.service)){var e=s.detail.service;ssw.ajax({type:"POST",url:sswProxyUrl+"/lite2/auth/shopCallback",dataType:"json",data:{_sid:ssw.cookie("hesid"),hash_key:ssw.cookie("hash_key"),service:e},success:function(s){if(sswSocialLogin=1,"undefined"!=typeof s.service_id&&(service_id=s.service_id),ssw.isEmptyObject(s))onOpenForm();else if(s.termsSignup||s.acceptMarketing)showAcceptTermsForm(s);else if(s.password)if(s.isOldCustomer)targetSEMModal(s,e);else{var t=new ShopifyLogin;t.preLogin(s.email,s.password),t.login()}else"undefined"!=typeof s.user_id&&s.user_id&&(window.ssw.usercheckResponse.multipass_enabled,!0)&&window.ssw.usercheckResponse.multipass_enabled?(t=new ShopifyLogin,t.multiPassLogin()):(onOpenForm(),ssw("#service_id").val(s.service_id),ssw(".ssw-modal").sswModal("hide"),s.email?targetSEMModal(s,e):ssw("#set-email-modal").sswModal())}})}});var addMessage=function(s,e,t){t=void 0!==t?"ssw-alert-"+t:"",ssw(s).prepend('<div class="ssw-alert '+t+' ssw-fade ssw-in"><button class="ssw-close" data-dismiss="ssw-alert">&times;</button>'+e+"</div>")},ShopifyLogin=function(){var s=this;this.check_customer_count=0,this.preLogin=function(s,e){ssw("#ssw-customer-email").val(s),ssw("#ssw-customer-password").val(e)},this.setServiceUser=function(e,t){if("facebook"==t)FB.api("/me",{fields:"id,email,first_name,gender,last_name,link,locale,name,timezone,updated_time,verified"},function(o){ssw.ajax({type:"POST",url:sswProxyUrl+"/lite2/auth/setService",data:{user_id:e.authResponse.userID,access_token:e.authResponse.accessToken,user:o,service:t,_sid:ssw.cookie("hesid"),accepts_marketing:!ssw.usercheckResponse.acceptMarketing||ssw("#ssw-accept-marketing-checkbox")[0].checked},success:function(e){if(service_id=e.service_id,0==e.user_id)onOpenForm(),e.email?(ssw(".ssw-socialconnect").remove(),ssw("div.ssw-alert").remove(),ssw("#first_name").val(o.first_name).show(),ssw("#last_name").val(o.last_name).show(),ssw("#email").val(o.email),ssw("#login_modal").sswModal("hide"),ssw("#signup_modal").sswModal("show")):(ssw("#service_id").val(e.service_id),ssw(".ssw-modal").sswModal("hide"),ssw("#set-email-modal").sswModal());else if("enabled"!=e.state)if(e.password&&e.email){var t=new ShopifyLogin;t.preLogin(e.email,e.password),e.account_activation_token?t.login({customer_id:e.customer_id,token:e.account_activation_token,customer:{password:e.password,password_confirmation:e.password}}):t.login()}else targetSEMModal(e,"Facebook");else!e.password&&e.email?targetSEMModal(e):(s.preLogin(e.email,e.password),s.login())},dataType:"json"})});else if("gplus"==t){var o=ssw.extend(e.gplusData,{_sid:ssw.cookie("hesid"),hash_key:sswCookie("hash_key")});ssw.ajax({type:"POST",url:sswProxyUrl+"/lite2/auth/glogin",data:o,success:function(e){sswSocialLogin=1,service_id=e.service_id,0==e.user_id?(onOpenForm(),ssw(ssw(".socialconnect")[1]).prev().remove(),ssw(ssw(".socialconnect")[1]).next().remove(),ssw(ssw(".socialconnect")[1]).next().remove(),ssw(ssw(".socialconnect")[1]).remove(),ssw("div.ssw-alert").remove(),ssw("#first_name").val(o.first_name),ssw("#last_name").val(o.last_name),ssw("#email").val(o.email),ssw("#login_modal").sswModal("hide"),ssw("#signup_modal").sswModal("show")):"enabled"!=e.state?targetSEMModal(e,"gplus"):e.password?(s.preLogin(e.email,e.password),s.login()):targetSEMModal(e,"gplus")},dataType:"json"})}},this.redirectAfterAuth=function(s,e,t){if(-1<navigator.userAgent.indexOf("MSIE")&&t)location.href=t;else{var o=(-1<navigator.userAgent.indexOf("Chrome")||-1==navigator.userAgent.indexOf("Safari"))&&-1==navigator.userAgent.indexOf("Firefox")&&"https:"==location.protocol,a=location.protocol;o&&(a="http:"==location.protocol?"https:":"http:"),s=s.clone(),s.attr("id","ssw-test-login"),s.find("input").removeAttr("id").removeAttr("class"),t=t||(""==window.ssw.login_redirect_url?location.pathname.indexOf("/account/")?location.href:location.protocol+"//"+location.hostname:window.ssw.login_redirect_url),o||(t=t.replace("https:","http:"));var i="?checkout_url="+encodeURIComponent(t);if(s[0]){o=s[0],s.hide(),ssw(document.body).append(s),t&&-1!=t.indexOf("checkout.shopify.com")||s.attr("action",o.action.replace(location.protocol,a)+i),a=ssw('<input type="hidden" name="checkout_url" />'),t&&a.val(t),s.append(a);for(var n in e)e.hasOwnProperty(n)&&(a=e[n],t=s.find('input[name="'+a.name+'"]'),t.length&&(t.removeAttr("disabled"),t.val(a.value)));o.submit()}}},this.customerIdPage=function(s,e,t,o,a){var i=this;i.check_customer_count++,ssw.ajax({url:sswProxyUrl+"/lite2/auth/customeridpage",type:"POST",data:s,success:function(n){ssw.cookie("ssw-userchecked",0,{expires:-1});var r=ssw("<div>");if(r.html(n),n=parseInt(r.find("#ssw-customer-id").html()))void 0===sswCookie("cart")?ssw.post(sswProxyUrl+"/lite2/auth/customerCart",{_sid:sswCookie("hesid"),hash_key:sswCookie("hash_key"),customer_id:n},function(s){s.cart&&ssw.cookie("cart",s.cart,{expires:14,path:"/"}),i.redirectAfterAuth(e,t,o)},"json"):i.redirectAfterAuth(e,t,o);else if(a&&5>i.check_customer_count)setTimeout(function(){i.customerIdPage(s,e,t,o,a)},1e3);else if(!a){if(sswSocialLogin?trackShopStats("invalid_social_login","all"):trackShopStats("invalid_email_login","all"),onOpenForm(),loginLoaderCancel(),ssw("#login_modal").sswModal("show"),sl)addMessage("#login_modal .login-failed",sswLangs.t("not_able_to_log_in_you_socially"),"warning");else{addMessage("#login_modal .login-failed",sswLangs.t("invalid_login_credentials"),"warning");var c=ssw("#ssw-customer-email").val();ssw.post(sswProxyUrl+"/lite2/auth/checkUserState",{email:c},function(s){s&&(s.success?addMessage("#login_modal .login-failed",sswLangs.t("already_registered_and_sent_invite_message",[c]),"warning"):addMessage("#login_modal .login-failed",sswLangs.t("already_registered_and_disabled_account",[c]),"warning"))},"json")}sl=0,ssw("#hesy-login-submit").removeAttr("disabled").attr("enabled","enabled")}},dataType:"html"})},this.multiPassLogin=function(){ssw.get(sswProxyUrl+"/lite2/auth/getMultipassToken",{_sid:ssw.cookie("hesid")},function(e){e?ssw.get("/account/login/multipass/"+e,{},function(e){if($("<div>").html(e).find("#ssw_cid").val()){e=ssw("#he_customer_login");var t=e.serializeArray(),o=sswGetParameterByName("checkout_url");s.redirectAfterAuth(e,t,o)}else trackShopStats("invalid_social_login","all"),addMessage("#login_modal .login-failed",sswLangs.t("not_able_to_log_in_you_socially"),"warning"),onOpenForm(),loginLoaderCancel(),ssw("#login_modal").sswModal("show")}).fail(function(){trackShopStats("invalid_social_login","all"),addMessage("#login_modal .login-failed",sswLangs.t("not_able_to_log_in_you_socially"),"warning"),onOpenForm(),loginLoaderCancel(),ssw("#login_modal").sswModal("show")}):(trackShopStats("invalid_social_login","all"),addMessage("#login_modal .login-failed",sswLangs.t("not_able_to_log_in_you_socially"),"warning"),onOpenForm(),loginLoaderCancel(),ssw("#login_modal").sswModal("show"))})},this.login=function(s){var e=this;onOpenForm(),loginLoader();var t=ssw("#he_customer_login"),o=t.serializeArray(),a={_sid:ssw.cookie("hesid"),hash_key:ssw.cookie("hash_key"),service_id:service_id};for(r in o)if(o.hasOwnProperty(r)){var i=o[r];a[i.name]=i.value}void 0!==sswCookie("cart")&&(a.cart_token=sswCookie("cart"));var n=sswGetParameterByName("checkout_url");if(""!=n){var r=n.split("/");a.form_type="customer_login",a.utf8="%E2%9C%93",a.checkout_url=encodeURIComponent(n),a.cart=r[r.length-1],a.customer={email:ssw("#ssw-customer-email").val(),password:ssw("#ssw-customer-password").val()}}r="/account/login",i=a,s&&s.customer_id&&s.token&&s.customer&&s.customer.password&&s.customer.password_confirmation&&(r="/account/activate/"+s.customer_id+"/"+s.token,i=s,""!=n&&(i.checkout_url=encodeURIComponent(n))),navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)&&""!=n&&-1!=n.indexOf("checkout.shopify.com")?(s=t.clone(),s.attr("id","ssw-login-clone-form"),s.css("display","none"),s.append('<input type="hidden" name="checkout_url" value="'+n+'"/>'),ssw(document.body).append(s),s.submit()):(ssw.ajax({type:"POST",url:r,data:i,xhr:function(){var s=ssw.ajaxSettings.xhr(),e=s.setRequestHeader;return s.setRequestHeader=function(s,t){"X-Requested-With"!=s&&e.call(this,s,t)},s},beforeSend:function(){onSubmitForm(),ssw("#hesy-login-submit").attr("disabled","disabled"),ssw("#login_modal .ssw-alert").sswAlert("close")},success:function(s){s=s.split("script").join("div");var i=ssw("<div>").html(s).find("#ssw_cid").val();if(0==i||"0"==i)if(-1!==s.indexOf("g-recaptcha"))location.href="/challenge";else{if(sl||sswSocialLogin){if(window.ssw.usercheckResponse.multipass_enabled,window.ssw.usercheckResponse.multipass_enabled)return void e.multiPassLogin();trackShopStats("invalid_social_login","all"),addMessage("#login_modal .login-failed",sswLangs.t("not_able_to_log_in_you_socially"),"warning")}else{trackShopStats("invalid_email_login","all"),addMessage("#login_modal .login-failed",sswLangs.t("invalid_login_credentials"),"warning");var r=ssw("#ssw-customer-email").val();ssw.post(sswProxyUrl+"/lite2/auth/checkUserState",{email:r},function(s){s.success?addMessage("#login_modal .login-failed",sswLangs.t("already_registered_and_sent_invite_message",[r]),"warning"):addMessage("#login_modal .login-failed",sswLangs.t("already_registered_and_disabled_account",[r]),"warning")},"json")}onOpenForm(),loginLoaderCancel(),ssw("#login_modal").sswModal("show"),ssw("#hesy-login-submit").removeAttr("disabled").attr("enabled","enabled")}else ssw.post(sswProxyUrl+"/lite2/auth/login",a,function(s){if(s.error)sswSocialLogin?trackShopStats("invalid_social_login","all"):trackShopStats("invalid_email_login","all"),e.redirectAfterAuth(t,o,n);else if(!s.cart||void 0!==sswCookie("cart")&&sswCookie("cart")==s.cart)e.redirectAfterAuth(t,o,n);else{var a=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);ssw.getJSON("/cart.json?v="+a,function(a){a.item_count||ssw.cookie("cart",s.cart,{expires:14,path:"/"}),e.redirectAfterAuth(t,o,n)})}},"json")},dataType:"html"}).fail(function(){e.customerIdPage(a,t,o,n,!1)}),-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&setTimeout(function(){e.customerIdPage(a,t,o,n,!0)},1e3))},this.signUp=function(){var s=this;onOpenForm();var e=ssw("#he_create_customer"),t=e.find('input[type="password"]').val(),o=ssw("#he_customer_login"),a=e.serializeArray(),i=e.serialize()+"&_sid="+ssw.cookie("hesid")+"&service_id="+service_id+"&hash_key="+ssw.cookie("hash_key"),n=sswGetParameterByName("checkout_url");""!=n&&(e=n.split("/"),i+="&form_type=customer_login&utf8==%E2%9C%93&checkout_url="+encodeURIComponent(n)+"&cart="+e[e.length-1]),ssw.ajax({type:"POST",url:"/account",data:i,xhr:function(){var s=ssw.ajaxSettings.xhr(),e=s.setRequestHeader;return s.setRequestHeader=function(s,t){"X-Requested-With"!=s&&e.call(this,s,t)},s},beforeSend:function(){onSubmitForm(),ssw("#hesy-sign-up-submit").removeAttr("enabled").attr("disabled","disabled"),ssw("#signup_modal .ssw-alert").sswAlert("close")},success:function(e){e=e.split("script").join("div")
;var r=ssw("<div>").html(e),c=r.find(".errors li");0==c.length&&(c=r.find(".errors-list li")),0==c.length&&(c=r.find("#create_customer .note.form-error li")),c.length?(onOpenForm(),ssw("#hesy-sign-up-submit").removeAttr("disabled").attr("enabled","enabled"),c.each(function(){addMessage("#signup_modal .login-failed",ssw(this).text(),"warning"),addMessage('form[action$="/account"]:not(#he_create_customer)',ssw(this).text(),"warning")})):-1!==e.indexOf("g-recaptcha")?ssw.ajax({type:"POST",url:sswProxyUrl+"/lite2/auth/encrypt",data:{password:t},success:function(s){"undefined"!=typeof s.new_password&&s.new_password&&"undefined"!=typeof localStorage&&(localStorage.setItem("challenge_password",s.new_password),location.href="/challenge")},dataType:"json"}).fail(function(){location.href="/challenge"}):ssw.post(sswProxyUrl+"/lite2/auth/register",i,function(e){""!=n?s.redirectAfterAuth(o,a,n):0==e.error?(ssw.cookie("ssw-userchecked",0,{expires:-1}),s.redirectAfterAuth(o,a)):ssw(".login-failed").empty()},"json")},dataType:"html"}).fail(function(e){if(400<parseInt(e.status)){onOpenForm();var t=ssw("<div>").html(e.responseText).find("div.content > div.content--block:nth-child(2) > div.content--desc").html();t=t||e.statusText,"Too many attempts: Please try again in 10 minutes"==ssw.trim(t)&&"undefined"!=typeof sswLangs.data.too_many_attempts&&(t=sswLangs.data.too_many_attempts),addMessage("#signup_modal .login-failed",t,"warning"),addMessage('form[action$="/account"]:not(#he_create_customer)',t,"warning")}else ssw.ajax({url:sswProxyUrl+"/lite2/auth/customeridpage",success:function(e){ssw.cookie("ssw-userchecked",0,{expires:-1}),e=parseInt(ssw(e).text()),0<e?(i+="$customer_id="+e,ssw.post(sswProxyUrl+"/lite2/auth/register",i,function(e){""!=n?s.redirectAfterAuth(o,a,n):0==e.error?(ssw.cookie("ssw-userchecked",0,{expires:-1}),s.redirectAfterAuth(o,a)):ssw(".login-failed").empty()},"json")):(onOpenForm(),addMessage(sswLangs.t("email_is_already_associated")))},dataType:"html"})})}};"undefined"!=typeof sswApp["default"]&&sswApp["default"]&&sswRun(function(){ssw(document).ready(function(){var s=document.querySelector('form[action$="/account/login"]:not(#he_customer_login)');if(s){var e=s.querySelector('input[name="customer[email]"]'),t=s.querySelector('input[name="customer[password]"]');e&&t&&(e.setAttribute("type","email"),e.setAttribute("required","required"),t.setAttribute("required","required"),s.addEventListener("submit",function(e){e.preventDefault(),e.stopPropagation(),e=s.querySelector('input[name="customer[email]"]').value;var t=s.querySelector('input[name="customer[password]"]').value;e&&t&&(ssw("#ssw-customer-email").val(e),ssw("#ssw-customer-password").val(t),(new ShopifyLogin).login())}))}var o=document.querySelector('form[action$="/account"]:not(#he_create_customer)');if(o){e=o.querySelector('input[name="customer[email]"]'),t=o.querySelector('input[name="customer[password]"]');var a=o.querySelector('input[name="customer[first_name]"]'),i=o.querySelector('input[name="customer[last_name]"]');e&&t&&a&&i&&(e.setAttribute("type","email"),e.setAttribute("required","required"),t.setAttribute("required","required"),a.setAttribute("required","required"),i.setAttribute("required","required"),o.addEventListener("submit",function(s){s.preventDefault(),s.stopPropagation(),s=o.querySelector('input[name="customer[email]"]').value;var e=o.querySelector('input[name="customer[password]"]').value,t=o.querySelector('input[name="customer[first_name]"]').value,a=o.querySelector('input[name="customer[last_name]"]').value,i=o.querySelector('input[name="customer[accepts_marketing]"]').value;if(s&&e&&t&&a){var n=ssw("#he_create_customer");n.find('[name="customer[email]"]').val(s),n.find('[name="customer[password]"]').val(e),n.find('[name="customer[first_name]"]').val(t),n.find('[name="customer[last_name]"]').val(a),n.find('[name="customer[accepts_marketing]"]').val(i),(new ShopifyLogin).signUp()}}))}var n=document.querySelector('form[action="/account/recover"]');n&&((e=n.querySelector('input[name="email"]'))&&e.setAttribute("type","email"),n.addEventListener("submit",function(s){n._passWasUnset||(s.preventDefault(),s.stopPropagation()),(s=n.querySelector('input[name="email"]').value)&&ssw.ajax({url:sswProxyUrl+"/lite2/auth/unsetpass",type:"POST",data:{email:s},dataType:"json",success:function(){n._passWasUnset=!0,n.submit()},error:function(){n._passWasUnset=!0,n.submit()}})}));var r=document.querySelector('form[action$="/account/reset"]');if(r){e=location.pathname.split("/account/reset/");var c=1<e.length&&e[1].split("/")[0];c&&r.addEventListener("submit",function(s){r._passWasReset||(s.preventDefault(),s.stopPropagation()),s=r.querySelector('input[name="customer[password]"]');var e=r.querySelector('input[name="customer[password_confirmation]"]');(s=!(!s.value||!e.value||s.value!=e.value)&&e.value)&&(e="function"==typeof window.btoa,ssw.ajax({url:sswProxyUrl+"/lite2/auth/resetpass",type:"POST",data:{customer_id:c,new_token:e?window.btoa(s):s,encoded:e},dataType:"json",success:function(){r._passWasReset=!0,r.submit()},error:function(){r._passWasReset=!0,r.submit()}}))})}})}),window.addEventListener("sswoauthcallback",function(s){s.detail&&("amazon"==s.detail.service?ssw.ajax({type:"POST",url:sswProxyUrl+"/lite2/auth/azshopcallback",data:{_sid:ssw.cookie("hesid"),hash_key:ssw.cookie("hash_key")},success:function(s){if("undefined"!=typeof s.service_id&&(service_id=s.service_id),sswSocialLogin=1,ssw.isEmptyObject(s))onOpenForm();else if(s.termsSignup||s.acceptMarketing)showAcceptTermsForm(s);else if("enabled"!=s.state)if(s.password&&s.email){var e=new ShopifyLogin;e.preLogin(s.email,s.password),s.account_activation_token?e.login({customer_id:s.customer_id,token:s.account_activation_token,customer:{password:s.password,password_confirmation:s.password}}):e.login()}else targetSEMModal(s,"Amazon");else!s.password&&s.email?targetSEMModal(s,"Amazon"):s.password?(e=new ShopifyLogin,e.preLogin(s.email,s.password),e.login()):(window.ssw.usercheckResponse.multipass_enabled,window.ssw.usercheckResponse.multipass_enabled?(e=new ShopifyLogin,e.multiPassLogin()):(addMessage("#login_modal .login-failed","sswLangs.t('already_registered_to_social_service2', [response.email])","warning"),ssw("#login_modal").sswModal()))},dataType:"json"}):"yahoo"==s.detail.service&&ssw.ajax({type:"POST",url:sswProxyUrl+"/lite2/auth/yshopcallback",data:{_sid:ssw.cookie("hesid"),hash_key:ssw.cookie("hash_key")},success:function(s){if(sswSocialLogin=1,"undefined"!=typeof s.service_id&&(service_id=s.service_id),ssw.isEmptyObject(s))onOpenForm();else if(s.termsSignup||s.acceptMarketing)showAcceptTermsForm(s);else if("enabled"!=s.state)if(s.password&&s.email){var e=new ShopifyLogin;e.preLogin(s.email,s.password),s.account_activation_token?e.login({customer_id:s.customer_id,token:s.account_activation_token,customer:{password:s.password,password_confirmation:s.password}}):e.login()}else targetSEMModal(s,"Yahoo");else!s.password&&s.email?targetSEMModal(s,"Yahoo"):s.password?(e=new ShopifyLogin,e.preLogin(s.email,s.password),e.login()):(window.ssw.usercheckResponse.multipass_enabled,window.ssw.usercheckResponse.multipass_enabled?(e=new ShopifyLogin,e.multiPassLogin()):(addMessage("#login_modal .login-failed",sswLangs.t("already_registered_to_social_service2",[s.email]),"warning"),ssw("#login_modal").sswModal()))},dataType:"json"}))}),sswLibraryLoaded(function(){window.sswHelperLoaded?validateLogin():window.addEventListener("sswhelperload",validateLogin),ssw(document).on("click",".ssw-azconnect",function(){onSubmitForm();var s=HE_DOMAIN+"/lite2/auth/azconnect?_sid="+ssw.cookie("hesid")+"&shop="+encodeURIComponent(Shopify.shop);s+=sswIsiOSWebView()&&"&oauth_redirect_uri="+encodeURIComponent(location.href),sswIsiOSWebView()?location.href=s:ssw.oauthpopup({path:s,windowOptions:sswGetPopupBounds(710,550),callback:function(){sswDispatchEvent("sswoauthcallback",{detail:{service:"amazon"},bubbles:!0,cancellable:!1})}})}),ssw(document).on("click",".ssw-yconnect",function(){onSubmitForm();var s=HE_DOMAIN+"/lite2/auth/yconnect?_sid="+ssw.cookie("hesid")+"&shop="+encodeURIComponent(Shopify.shop);s+=sswIsiOSWebView()&&"&oauth_redirect_uri="+encodeURIComponent(location.href),sswIsiOSWebView()?location.href=s:ssw.oauthpopup({path:s,callback:function(){sswDispatchEvent("sswoauthcallback",{detail:{service:"yahoo"},bubbles:!0,cancellable:!1})}})}),ssw(document).on("click",".ssw-twconnect",function(){shopCallback4TTI("twconnect","twitter")}),ssw(document).on("click",".ssw-inconnect",function(){shopCallback4TTI("inconnect","instagram")}),ssw(document).on("click",".ssw-tmconnect",function(){shopCallback4TTI("tmconnect","tumblr")}),ssw(document).on("keyup change","#he_create_customer input",function(){""!=ssw("#he_create_customer #email").val()&&""!=ssw("#he_create_customer #password").val()&&(ssw("#he_create_customer .ssw-first-name:hidden").length?ssw("#he_create_customer .ssw-first-name").slideDown():""!=ssw("#he_create_customer #first_name").val()&&ssw("#he_create_customer .ssw-last-name:hidden").length&&ssw("#he_create_customer .ssw-last-name").slideDown())}),ssw(document).on("shown.ssw.modal","#login_modal",function(){ssw(document.body).hasClass("ssw-touch")||ssw("#ssw-customer-email").focus()}),ssw(document).on("show.ssw.modal","#login_modal",function(){ssw(".ssw-modal:not(#login_modal)").sswModal("hide")}),ssw(document).on("shown.ssw.modal","#signup_modal",function(){ssw(document.body).hasClass("ssw-touch")||ssw("#he_create_customer input").each(function(s,e){if(""==ssw(e).val())return ssw(e).focus(),!1})})}),sswUserChecked(function(){function s(){var s=ssw.usercheckResponse;s.termsSignup&&(ssw("#ssw-signup-accept-terms").show().find('input[type="checkbox"]').attr("required","required"),s.termsLink&&(ssw("#ssw-signup-accept-terms-marketing .terms-link").attr("href",s.termsLink).show(),ssw("#ssw-signup-accept-terms-marketing .terms-span").hide())),s.acceptMarketing&&ssw("#ssw-signup-accept-marketing").show()}window.sswHelperLoaded?s():window.addEventListener("sswhelperload",s)})}sswUserChecked(function(){var s=ssw.usercheckResponse.briteVerifyKey;s&&sswLoadScript("//cdn.briteverify.com/bforms.js",function(e){e=document.createElement("link"),e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("media","all"),e.setAttribute("href","//cdn.briteverify.com/bforms.css"),document.getElementsByTagName("head")[0].appendChild(e);var t=function(s){var e=ssw(s.el).closest("form");"invalid"===s.status?(e.attr("onsubmit","event.preventDefault(); event.stopPropagation();return false;"),e.find('[type="submit"]').attr("disabled","disabled")):("unknown"!==s.status&&"accept_all"!==s.status||this.promptConfirmation(),e.removeAttr("onsubmit"),e.find('[type="submit"]').removeAttr("disabled"))};e=document.querySelectorAll('form[action$="//'+location.hostname+'/account"]:not(#he_create_customer) [name="customer[email]"], form[action$="//'+Shopify.shop+'/account"]:not(#he_create_customer) [name="customer[email]"], #he_create_customer #email, #set-email-form #set-email-input');for(var o=[],a=e.length,i=0;i<a;i++){var n=e[i],r=BriteForm.create({formKey:s,emailInput:n});r.on("verification:end",t),o.push(r),function(s){setTimeout(function(){ssw(s).hasClass("bv-invalid")&&t({el:s,status:"invalid"})},1200)}(n)}o.length&&(window.__ssw_bv_forms=o)})}),function(){var s=sswCookie("cart"),e=sswCookie("cart_sig");sswCookie("_ssw_just_ordered");var t=sswCookie("_ssw_cart_data"),o=!!t&&JSON.parse(window.atob(t)),a={cart:sswCookie("cart"),cart_sig:sswCookie("cart_sig")},i=new XMLHttpRequest;i.open("GET","/cart.json"),i.setRequestHeader("Content-Type","application/json"),i.send(),i.onreadystatechange=function(){if(4==i.readyState){var t=JSON.parse(i.responseText),n=JSON.parse(localStorage.getItem("_ssw_cart_data"));!t.items.length&&n&&n.items&&n.items.length&&o&&o.cart_token!=t.token&&(s!=o.cart||!e)&&(sswCookie("_ssw_just_ordered",1,24),localStorage.setItem("_ssw_last_checkout_cart",localStorage.getItem("_ssw_cart_data")),sswDispatchEvent("sswcheckoutprocessed",{detail:{cartObject:t},bubbles:!0,cancellable:!1})),a.cart_token=t.token,sswCookie("_ssw_cart_data",window.btoa(JSON.stringify(a)),24),localStorage.setItem("_ssw_cart_data",JSON.stringify(t))}}}()}